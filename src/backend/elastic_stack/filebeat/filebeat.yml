
#=========================== Filebeat inputs =============================

filebeat.inputs:
- type: log
  paths:
    - /var/log/*

- type: docker
  containers.ids:
    - '*'

- type: log
  enabled: false
  paths:
    - /var/lib/docker/containers/*-json.log
  tags: ["docker-logs"]
  processors:
  - add_docker_metadata: ~

#================================ Outputs =====================================

# Configure what output to use when sending the data collected by the beat.

#----------------------------- Elasticsearch Output --------------------------------
output.elasticsearch:
  hosts: ["elasticsearch:9200"]
  username: "elastic"
  password: "HSLU-1234"
  indices:
    - index: "filebeat-%{[agent.version]}-%{+yyyy.MM.dd}"


#================================ Processors =====================================

# Configure processors to enhance or manipulate events generated by the beat.

processors:
- add_host_metadata: ~
- add_docker_metadata: ~
- decode_json_fields:
    fields: ["message"]
    target: "json"
    overwrite_keys: true


logging.json: true
logging.metrics.enabled: false